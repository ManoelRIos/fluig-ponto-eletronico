<div class="flex flex-col gap-8 pb-8">
  <div class="flex flex-wrap justify-between gap-8">
    <div class="flex items-center gap-2 w-96">
      <div class="bg-amber-400 p-1 rounded-lg">
        <i class="text-zinc-700 flaticon flaticon-document-time icon-md" aria-hidden="true"></i>
      </div>
      <h2 class="text-zinc-700 font-bold m-0">Painel de controle</h2>
    </div>

    <div>
      <button
        routerLink="/"
        class="flex items-center gap-2 bg-zinc-50 shadow-md text-zinc-400 py-1 px-2 rounded hover:bg-zinc-600 hover:text-zinc-100"
      >
        <svg
          class="w-6 h-6"
          aria-hidden="true"
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          fill="none"
          viewBox="0 0 24 24"
        >
          <path
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M5 12h14M5 12l4-4m-4 4 4 4"
          />
        </svg>
        <span>Voltar</span>
      </button>
    </div>
  </div>

  <div class="flex items-center justify-start gap-4">
    <div
      [class]="routerActive === 'users' ? 'border-amber-400 shadow-2xl' : 'border-zinc-200'"
      class="h-56 max-w-sm p-6 bg-white border rounded-lg shadow hover:border-amber-400 hover:shadow-2xl ease-out duration-200 cursor-pointer"
      (click)="changeRouter('users')"
    >
      <i class="flaticon flaticon-user-search icon-md text-zinc-500" aria-hidden="true"></i>
      <a>
        <h5 class="mb-2 text-2xl font-semibold tracking-tight text-zinc-900">Usuários</h5>
      </a>
      <p class="mb-3 font-normal text-zinc-500">Definir as configurações de fotos para o registro de ponto e mais.</p>
      <a class="inline-flex font-medium items-center text-amber-600 hover:underline">
        Abrir
        <svg
          class="w-3 h-3 ms-2.5 rtl:rotate-[270deg]"
          aria-hidden="true"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 18 18"
        >
          <path
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M15 11v4.833A1.166 1.166 0 0 1 13.833 17H2.167A1.167 1.167 0 0 1 1 15.833V4.167A1.166 1.166 0 0 1 2.167 3h4.618m4.447-2H17v5.768M9.111 8.889l7.778-7.778"
          />
        </svg>
      </a>
    </div>
    <div
      [class]="routerActive === 'perfil' ? 'border-amber-400 shadow-2xl' : 'border-zinc-200'"
      class="h-56 max-w-sm p-6 bg-white border rounded-lg shadow hover:border-amber-400 hover:shadow-2xl ease-out duration-200 cursor-pointer"
      (click)="changeRouter('perfil')"
    >
      <i class="flaticon flaticon-news icon-md text-zinc-500" aria-hidden="true"></i>
      <a>
        <h5 class="mb-2 text-2xl font-semibold tracking-tight text-zinc-900">Perfil</h5>
      </a>
      <p class="mb-3 font-normal text-zinc-500">
        Qual o benefício de cadastrar um novo perfil? Facilitar o acesso, personalizar a experiência e gerenciar
        equipes!
      </p>
      <a class="inline-flex font-medium items-center text-amber-600 hover:underline">
        Abrir
        <svg
          class="w-3 h-3 ms-2.5 rtl:rotate-[270deg]"
          aria-hidden="true"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 18 18"
        >
          <path
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M15 11v4.833A1.166 1.166 0 0 1 13.833 17H2.167A1.167 1.167 0 0 1 1 15.833V4.167A1.166 1.166 0 0 1 2.167 3h4.618m4.447-2H17v5.768M9.111 8.889l7.778-7.778"
          />
        </svg>
      </a>
    </div>
  </div>

  @if(routerActive === 'users') { @if(!userSelected){
  <div class="md:flex md:items-center md:justify-between">
    <div></div>
    <div class="relative flex items-center md:mt-0">
      <span class="absolute">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
          class="w-5 h-5 mx-3 text-zinc-400"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"
          />
        </svg>
      </span>

      <input
        type="text"
        [(ngModel)]="searchQuery"
        (input)="filterSearch()"
        placeholder="Pesquisar..."
        class="block w-full py-1.5 pr-5 text-zinc-700 bg-white border border-zinc-200 rounded-lg md:w-80 placeholder-zinc-400/70 pl-11 rtl:pr-11 rtl:pl-5 focus:border-amber-400 focus:ring-amber-300 focus:outline-none focus:ring focus:ring-opacity-40"
      />
    </div>
  </div>
  <div class="bg-zinc-50 relative overflow-x-auto shadow-md sm:rounded-lg">
    <table class="w-full text-sm text-left rtl:text-right text-zinc-50 overflow-auto max-h-96 scroll-auto">
      <thead class="text-xs text-zinc-700 uppercase bg-amber-100">
        <tr>
          <th scope="col" class="px-6 py-3 text-center">#</th>
          <th scope="col" class="px-6 py-3 text-center">Usuário</th>
          <th scope="col" class="px-6 py-3 text-center">E-mail</th>
          <th scope="col" class="px-6 py-3 text-center">Telefone</th>
          <th scope="col" class="px-6 py-3 text-center">Cargo</th>
        </tr>
      </thead>
      <tbody>
        @for (user of filteredUsers; track user.userTenantId) {
        <tr
          (click)="selectUser(user)"
          class="bg-white text-center cursor-pointer hover:drop-shadow-lg ease-linear duration-200 odd:bg-zinc-100"
        >
          <td class="px-6 py-4 font-medium text-zinc-900 whitespace-nowrap">{{ user.userTenantId }}</td>
          <td class="px-6 py-4">{{ user.colleagueName }}</td>
          <td class="px-6 py-4">{{ user.mail }}</td>
          <td class="px-6 py-4">{{ user.extensionNr ?? '----------' }}</td>
          <td class="px-6 py-4">{{ user.especializationArea ?? '----------' }}</td>
        </tr>
        }
      </tbody>
    </table>

    @if (filteredUsers.length === 0){
    <div class="w-full flex flex-col items-center justify-center p-4 gap-4">
      <img class="w-36" src="{{ environment.assets }}/not-found.svg" alt="Blank Canva" />
      <p class="text-center text-zinc-400 font-light p-4">Parece que ainda não há dados registrados por aqui.</p>
    </div>
    }
  </div>
  }@else if(userSelected) {

  <div class="w-full bg-white border border-zinc-200 rounded-lg shadow p-4">
    <div class="flex items-center justify-between pb-4">
      <h3 class="text-zinc-800">#{{ userSelected.userTenantId }} - {{ userSelected.colleagueName }}</h3>
      <button (click)="unselectUser()" class="bg-white hover:-translate-y-1 hover:shadow-2xl ease-linear duration-300">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
          class="size-5 text-zinc-800"
        >
          <path stroke-linecap="round" stroke-linejoin="round" d="M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3" />
        </svg>
      </button>
    </div>

    <div class="flex items-center h-64 gap-4">
      <img class="h-64 rounded " src="{{ urlFoto }}" alt="" />
      <div class="flex items-center justify-center w-full">
        <label
          for="dropzone-file"
          class="flex flex-col items-center justify-center w-full h-64 border-2 border-zinc-300 border-dashed rounded-lg cursor-pointer bg-zinc-50 hover:bg-zinc-100"
        >
          <div class="flex flex-col items-center justify-center pt-5 pb-6">
            <svg
              class="w-8 h-8 mb-4 text-amber-400 animate-bounce"
              aria-hidden="true"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 20 16"
            >
              <path
                stroke="currentColor"
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"
              />
            </svg>
            <p class="mb-2 text-sm text-zinc-500">
              <span class="font-semibold">Adicione uma nova foto</span>
            </p>
            <p class="text-xs text-zinc-300">PNG, JPG ou JPEG menor que 15MB </p>
          </div>
          <input id="dropzone-file" type="file" class="hidden" />
        </label>
      </div>
    </div>
    <div class="pt-4 flex items-center gap-2">            
        <label class="text-zinc-700 m-0" for="perfil">Perfil: </label>
        <select [(ngModel)]="profile.documentid" name="perfil" id="perfil" class="rounded border border-amber-400">
          <option value="">Sem perfil</option>
          @for (role of roles; track role.id) {
          <option value="{{ role.documentid }}">{{ role.descricao }}</option>
          }
        </select>      
    </div>
  </div>

  <div></div>

  } } @else {
  <div class="flex items-center justify-between">
    <div></div>
    <button
      class="text-emerald-50 font-bold flex items-center gap-2 p-2 rounded shadow-md bg-emerald-400 hover:-translate-y-1 hover:bg-emerald-600 ease-in-out duration-150"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="1.5"
        stroke="currentColor"
        class="size-5"
      >
        <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
      </svg>
      <span>Adicionar novo papel</span>
    </button>
  </div>
  <div class="bg-zinc-50 relative overflow-x-auto shadow-md sm:rounded-lg">
    <table class="w-full text-sm text-left rtl:text-right text-zinc-50 overflow-auto max-h-96 scroll-auto">
      <thead class="text-xs text-zinc-700 uppercase bg-amber-100">
        <tr>
          <th scope="col" class="px-6 py-3 text-center">#</th>
          <th scope="col" class="px-6 py-3 text-center">Descrição</th>
          <th scope="col" class="px-6 py-3 text-center">Visualizar</th>
          <th scope="col" class="px-6 py-3 text-center">Deletar</th>
          <th scope="col" class="px-6 py-3 text-center">Criar</th>
          <!-- <th scope="col" class="px-6 py-3 text-center">Edit</th> -->
        </tr>
      </thead>
      <tbody>
        @for (role of roles; track role.id) {
        <tr class="bg-white text-center cursor-pointer hover:drop-shadow-lg ease-linear duration-200 odd:bg-zinc-100">
          <td class="px-6 py-4 font-medium text-zinc-900 whitespace-nowrap">{{ role.id }}</td>
          <td class="px-6 py-4">{{ role.descricao }}</td>
          <td class="px-6 py-4">{{ role.view_default }}</td>
          <td class="px-6 py-4">{{ role.view_all }}</td>
          <td class="px-6 py-4">{{ role.status }}</td>
        </tr>
        }
      </tbody>
    </table>

    @if (roles.length === 0){
    <div class="w-full flex flex-col items-center justify-center p-4 gap-4">
      <img class="w-36" src="{{ environment.assets }}/no-data.svg" alt="Blank Canva" />
      <p class="text-center text-zinc-400 font-light p-4">Parece que ainda não há dados registrados por aqui.</p>
    </div>
    }
  </div>
  }

  <!-- 
  <div class="sm:flex sm:items-center sm:justify-between">
    <div class="text-sm text-zinc-500">
      Página <span class="font-medium text-zinc-700">1 de {{ filteredUsers.length / countUsers }}</span>
    </div>

    <div class="flex items-center gap-x-4">
      <a
       
        class="flex items-center justify-center w-1/2 px-5 py-2 text-sm text-zinc-700 capitalize transition-colors duration-200 bg-white border rounded-md sm:w-auto gap-x-2 hover:bg-zinc-100"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
          class="w-5 h-5 rtl:-scale-x-100"
        >
          <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18" />
        </svg>
      </a>

      <a
       
        class="flex items-center justify-center w-1/2 px-5 py-2 text-sm text-zinc-700 capitalize transition-colors duration-200 bg-white border rounded-md sm:w-auto gap-x-2 hover:bg-zinc-100"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
          class="w-5 h-5 rtl:-scale-x-100"
        >
          <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3" />
        </svg>
      </a>
    </div>
  </div> -->
</div>
